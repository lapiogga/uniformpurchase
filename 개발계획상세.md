# 피복구매시스템 구축 상세 개발계획서

본 문서는 요구사항정의서(v1.0)를 바탕으로, 팀 에이전트 체계와 구글 클라우드 인프라를 활용한 상세 개발 계획을 기술합니다.

## 1. 프로젝트 개요
*   **프로젝트명**: 피복구매시스템 고도화 및 인터넷 배포
*   **주요 목표**: 군 장병용 피복 포인트 기반 온/오프라인 통합 구매 시스템 구축
*   **핵심 기술**: Next.js, Cloud SQL (PostgreSQL), Cloud Run, Identity Platform

---

## 2. 에이전트별 팀 구성 및 역할 분담 (Role Matrix)

시스템의 복잡도를 고려하여 다음과 같이 특화된 에이전트 팀을 운영합니다.

| 에이전트 팀 | 주요 업무 범위 | 산출물 |
|:---:|---|---|
| **총괄관리자 (PM)** | 프로젝트 전 과정 리딩, 에이전트 협업 조율, 마일스톤 관리 | 프로젝트 일정표, 주간 보고서 |
| **기획팀** | 요구사항 상세 분석, 비즈니스 규칙(포인트 산정 등) 로직 설계 | 기능 명세서, 비즈니스 로직 정의서 |
| **설계팀** | 인프라 아키텍처 설계, API 설계, DB ERD 작성 | 아키텍처 설계서, API 명세서, ERD |
| **UI/UX팀** | 디자인 시스템 구축, 와이어프레임 및 고충실도 목업 제작 | Figma 디자인 가이드, UI 컴포넌트 라이브러리 |
| **데이터팀** | DB 물리 스키마 구현, 마이그레이션 스크립트 작성, 테스트 데이터 생성 | DDL 스크립트, 데이터 사전 |
| **개발팀 (FE/BE)** | Next.js Server Actions 및 프론트엔드 화면 구현, 배포 스크립트 작성 | 소스 코드, 빌드 스크립트 |
| **테스트팀** | QA 시나리오 작성 및 수행, 단위/통합 테스트 리포트 작성 | 테스트 결과 보고서, 결함 추적표 |
| **품질팀** | 코드 정적 분석, 성능 테스트, 보안 취약점 점검 및 가이드 | 품질 보증 보고서, 보안 진단서 |

---

## 3. 인프라 구축 계획 (Google Infrastructure)

구글의 매니지드 서비스를 적극 활용하여 안정성과 확장성을 확보합니다.

### 3.1 컴퓨팅 및 네트워크
*   **Cloud Run**: 서버리스 컨테이너 환경으로 Next.js 앱을 배포하여 트래픽에 따른 자동 확장 대응.
*   **Cloud Load Balancing**: HTTPS 연결 관리 및 부하 분산.
*   **Cloud DNS**: 서비스 도메인 관리.

### 3.2 데이터 저장 및 관리
*   **Cloud SQL (PostgreSQL 15)**: 피복 데이터, 사용자 포인트, 주문 이력 저장.
*   **Identity Platform**: 구글 계정 연동 및 RBAC(역할 기반 접근 제어) 관리.
*   **Cloud Storage**: 제품 이미지 및 사용자 관련 증빙 서류 저장.

### 3.3 CI/CD 파이프라인
*   **Artifact Registry**: 컨테이너 이미지 관리.
*   **Cloud Build**: 소스 푸시 시 자동으로 빌드, 테스트 및 배포 수행.

---

## 4. 단계별 상세 일정

| 단계 | 활동 및 작업 내용 | 기간 | 주요 에이전트 |
|:---:|---|:---:|:---:|
| **1단계: 분석 및 설계** | 요구사항 분석, 인프라 설계, DB 모델링, UI/UX 디자인 확정 | 2주 | 기획, 설계, UI/UX, 데이터 |
| **2단계: 인프라 구축** | GCP 프로젝트 설정, 네트워크 및 DB 인스턴스 생성, 인증 연동 | 1주 | 설계, 데이터, 개발 |
| **3단계: 핵심 개발** | 공통 컴포넌트, 포인트/재고 처리 로직, 역할별(4종) 화면 구현 | 4주 | 개발, 기획, UI/UX |
| **4단계: 테스트 및 품질** | 기능 테스트, 성능 부하 테스트, 보안 진단 및 모수 수정 | 2주 | 테스트, 품질, 개발 |
| **5단계: 배포 및 안정화** | 운영 환경 배포, 최종 모니터링, 사용자 교육 및 문서 이관 | 1주 | 총괄, 개발, 품질 |

---

## 5. 리스크 관리 포인트
*   **포인트 정합성**: 금융 거래에 준하는 데이터 정합성이 필요하므로 데이터팀과 품질팀이 더블 체크 수행.
*   **재고 동시성**: 온라인과 오프라인에서 동시에 발생하는 재고 차감 충돌 방지를 위한 DB 락(Lock) 전략 설계 필수.
*   **보안**: 군 내부 데이터 취급에 따른 Identity Platform의 보안 정책 강화 및 데이터 암호화 적용.
